<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Computes the weights to be associated with a set of competing models in
order to perform structural PSA."><title>Structural Probability Sensitivity Analysis — struct.psa • BCEA</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Structural Probability Sensitivity Analysis — struct.psa"><meta property="og:description" content="Computes the weights to be associated with a set of competing models in
order to perform structural PSA."><meta property="og:image" content="https://n8thangreen.github.io/BCEA/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">BCEA</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.4.5</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/bcea.html">Getting Started</a>
    <a class="dropdown-item" href="../articles/ceac.html">Cost-Effectiveness Acceptability Curve Plots</a>
    <a class="dropdown-item" href="../articles/ceef.html">Cost-Effectiveness Efficiency Frontier</a>
    <a class="dropdown-item" href="../articles/ceplane.html">Cost-effectiveness plane</a>
    <a class="dropdown-item" href="../articles/CEriskav.html">Risk Aversion Analysis</a>
    <a class="dropdown-item" href="../articles/contour.html">Contour Plots</a>
    <a class="dropdown-item" href="../articles/eib.html">Expected Incremental Benefit Plot</a>
    <a class="dropdown-item" href="../articles/paired_vs_multiple_comps.html">Paired vs Multiple Comparisons</a>
    <a class="dropdown-item" href="../articles/Set_bcea_parameters.html">Set bcea() Parameters: Constructor and Setters</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../bcea_cheatsheet.pdf">Cheatsheet</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/n8thangreen/BCEA/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Structural Probability Sensitivity Analysis</h1>
      <small class="dont-index">Source: <a href="https://github.com/n8thangreen/BCEA/blob/HEAD/R/struct.psa.R" class="external-link"><code>R/struct.psa.R</code></a></small>
      <div class="d-none name"><code>struct.psa.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Computes the weights to be associated with a set of competing models in
order to perform structural PSA.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">struct.psa</span><span class="op">(</span></span>
<span>  <span class="va">models</span>,</span>
<span>  <span class="va">effect</span>,</span>
<span>  <span class="va">cost</span>,</span>
<span>  ref <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  interventions <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  Kmax <span class="op">=</span> <span class="fl">50000</span>,</span>
<span>  plot <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  w <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>models</dt>
<dd><p>A list containing the output from either R2jags or
R2WinBUGS for all the models that need to be combined in the model average</p></dd>


<dt>effect</dt>
<dd><p>A list containing the measure of effectiveness computed from
the various models (one matrix with n.sim x n.ints simulations for each
model)</p></dd>


<dt>cost</dt>
<dd><p>A list containing the measure of costs computed from the various
models (one matrix with n.sim x n.ints simulations for each model)</p></dd>


<dt>ref</dt>
<dd><p>Which intervention is considered to be the reference
strategy. The default value <code>ref=1</code> means that the intervention
appearing first is the reference and the other(s) is(are) the comparator(s)</p></dd>


<dt>interventions</dt>
<dd><p>Defines the labels to be associated with each
intervention. By default and if <code>NULL</code>, assigns labels in the form
"Intervention1", ... , "InterventionT"</p></dd>


<dt>Kmax</dt>
<dd><p>Maximum value of the willingness to pay to be considered.
Default value is <code>50000</code>. The willingness to pay is then approximated
on a discrete grid in the interval <code>[0, Kmax]</code>. The grid is equal to
<code>k</code> if the parameter is given, or composed of <code>501</code> elements if
<code>k=NULL</code> (the default)</p></dd>


<dt>plot</dt>
<dd><p>A logical value indicating whether the function should produce
the summary plot or not</p></dd>


<dt>w</dt>
<dd><p>A vector of weights. By default it's NULL to indicate that the
function will calculate the model weights based on DIC and the individual
model fit. This behaviour can be overridden by passing a vector <code>w</code>,
for instance based on expert opinion</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>List object of bcea object, model weights and DIC</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The model is a list containing the output from either R2jags or
R2WinBUGS for all the models that need to be combined in the model average
effect is a list containing the measure of effectiveness computed from the
various models (one matrix with n_sim x n_ints simulations for each model)
cost is a list containing the measure of costs computed from the various
models (one matrix with n_sim x n_ints simulations for each model).</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Baio G (2013).
<em>Bayesian Methods in Health Economics</em>.
CRC.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="bcea.html">bcea()</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Gianluca Baio</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co"># load sample jags output</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/load.html" class="external-link">load</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"statins_base.RData"</span>, package <span class="op">=</span> <span class="st">"BCEA"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/load.html" class="external-link">load</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"statins_HC.RData"</span>, package <span class="op">=</span> <span class="st">"BCEA"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">interventions</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Atorvastatin"</span>, <span class="st">"Fluvastatin"</span>,</span></span>
<span class="r-in"><span>                   <span class="st">"Lovastatin"</span>, <span class="st">"Pravastatin"</span>,</span></span>
<span class="r-in"><span>                   <span class="st">"Rosuvastatin"</span>, <span class="st">"Simvastatin"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">m1</span> <span class="op">&lt;-</span> <span class="fu"><a href="bcea.html">bcea</a></span><span class="op">(</span>eff <span class="op">=</span> <span class="va">statins_base</span><span class="op">$</span><span class="va">sims.list</span><span class="op">$</span><span class="va">effect</span>,</span></span>
<span class="r-in"><span>           cost <span class="op">=</span> <span class="va">statins_base</span><span class="op">$</span><span class="va">sims.list</span><span class="op">$</span><span class="va">cost.tot</span>,</span></span>
<span class="r-in"><span>           ref <span class="op">=</span> <span class="fl">1</span>, interventions <span class="op">=</span> <span class="va">interventions</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">m2</span> <span class="op">&lt;-</span> <span class="fu"><a href="bcea.html">bcea</a></span><span class="op">(</span>eff <span class="op">=</span> <span class="va">statins_HC</span><span class="op">$</span><span class="va">sims.list</span><span class="op">$</span><span class="va">effect</span>,</span></span>
<span class="r-in"><span>           cost <span class="op">=</span> <span class="va">statins_HC</span><span class="op">$</span><span class="va">sims.list</span><span class="op">$</span><span class="va">cost.tot</span>,</span></span>
<span class="r-in"><span>           ref <span class="op">=</span> <span class="fl">1</span>, interventions <span class="op">=</span> <span class="va">interventions</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">models</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">statins_base</span>, <span class="va">statins_HC</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">effects</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">statins_base</span><span class="op">$</span><span class="va">sims.list</span><span class="op">$</span><span class="va">effect</span>,</span></span>
<span class="r-in"><span>                <span class="va">statins_HC</span><span class="op">$</span><span class="va">sims.list</span><span class="op">$</span><span class="va">effect</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">costs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">statins_base</span><span class="op">$</span><span class="va">sims.list</span><span class="op">$</span><span class="va">cost.tot</span>,</span></span>
<span class="r-in"><span>              <span class="va">statins_HC</span><span class="op">$</span><span class="va">sims.list</span><span class="op">$</span><span class="va">cost.tot</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">m3</span> <span class="op">&lt;-</span> <span class="fu">struct.psa</span><span class="op">(</span><span class="va">models</span>, <span class="va">effects</span>, <span class="va">costs</span>,</span></span>
<span class="r-in"><span>                 ref <span class="op">=</span> <span class="fl">1</span>, interventions <span class="op">=</span> <span class="va">interventions</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Gianluca Baio, Andrea Berardi, Anna Heath, Nathan Green.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

